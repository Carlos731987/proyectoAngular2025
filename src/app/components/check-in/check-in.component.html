<div class="registro-container">
  <h2>Crea tu cuenta</h2>
  <form [formGroup]="registroForm" (ngSubmit)="onSubmit()">

    <div class="form-row">
      <div class="form-group">
        <label for="nombre">Nombre:</label>
        <input id="nombre" type="text" formControlName="nombre" placeholder="Tu nombre">
        <div *ngIf="form['nombre'].invalid && form['nombre'].touched" class="error-message">
          <span *ngIf="form['nombre'].errors?.['required']">El nombre es obligatorio.</span>
          <span *ngIf="form['nombre'].errors?.['minlength']">Mínimo 2 caracteres.</span>
        </div>
      </div>
      <div class="form-group">
        <label for="apellido">Apellido:</label>
        <p *ngIf="form['nombre'].valid" class="title-case-preview">
          Hola, {{ form['nombre'].value | titleCase }}
        </p>
        <input id="apellido" type="text" formControlName="apellido" placeholder="Tu apellido">
        <div *ngIf="form['apellido'].invalid && form['apellido'].touched" class="error-message">
          <span *ngIf="form['apellido'].errors?.['required']">El apellido es obligatorio.</span>
        </div>
      </div>
    </div>
    
    <div class="form-group">
      <label for="telefono">Teléfono:</label>
      <input id="telefono" type="tel" formControlName="telefono" placeholder="Ej: 1122334455">
      <div *ngIf="form['telefono'].invalid && form['telefono'].touched" class="error-message">
        <span *ngIf="form['telefono'].errors?.['required']">El teléfono es obligatorio.</span>
        <span *ngIf="form['telefono'].errors?.['pattern']">Formato no válido (solo números).</span>
      </div>
    </div>

    <div class="form-group">
      <label for="correo">Correo:</label>
      <input id="correo" type="email" formControlName="correo" placeholder="ejemplo@correo.com">
      <div *ngIf="form['correo'].invalid && form['correo'].touched" class="error-message">
        <span *ngIf="form['correo'].errors?.['required']">El correo es obligatorio.</span>
        <span *ngIf="form['correo'].errors?.['email']">Debe ser un correo electrónico válido.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="contrasena">Contraseña:</label>
      <input id="contrasena" type="password" formControlName="contrasena" placeholder="Mínimo 6 caracteres">
      <div *ngIf="form['contrasena'].invalid && form['contrasena'].touched" class="error-message">
        <span *ngIf="form['contrasena'].errors?.['required']">La contraseña es obligatoria.</span>
        <span *ngIf="form['contrasena'].errors?.['minlength']">Mínimo 6 caracteres.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="confirmarContrasena">Confirmar Contraseña:</label>
      <input id="confirmarContrasena" type="password" formControlName="confirmarContrasena" placeholder="Repite la contraseña">
      <div *ngIf="form['confirmarContrasena'].touched && form['confirmarContrasena'].errors" class="error-message">
        <span *ngIf="form['confirmarContrasena'].errors?.['required']">Debe confirmar la contraseña.</span>
        <span *ngIf="registroForm.errors?.['passwordsMismatch'] && form['confirmarContrasena'].touched">Las contraseñas no coinciden.</span>
      </div>
    </div>

    <div class="checkbox-group">
      <input id="aceptaTerminos" type="checkbox" formControlName="aceptaTerminos">
      <label for="aceptaTerminos">Acepto los términos y condiciones</label>
      <div *ngIf="form['aceptaTerminos'].invalid && form['aceptaTerminos'].touched" class="error-message">
        Debe aceptar los términos y condiciones.
      </div>
    </div>

    <button type="submit" 
            [disabled]="registroForm.invalid" 
            [ngClass]="{'btn-submit': true, 'btn-disabled': registroForm.invalid}">
      REGISTRARME
    </button>
  </form>

  <p class="footer-info">
    Formulario activado desde: {{ fechaRegistro | date:'mediumDate' }}
  </p>
</div>
